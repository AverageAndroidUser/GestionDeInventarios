<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="ISO-8859-1">
        <title>List Users</title>
        <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
        <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    </head>
    <body>
    <div class="container text-center">
        <div>
            <form th:action="@{/logout}" method="post">
                <input type="submit" value="Sign Out" />
            </form>
        </div>
        <div>
            <h1>List of Users</h1>
        </div>
        <input type="text" id="barraBusqueda" placeholder="Buscar producto..." oninput="buscarProductos()">
        <select id="filtro" onchange="filterProducts()">
            <option value="">Todos los Proveedores</option>
            <option th:each="proveedor: ${Proveedoress}" th:value="${proveedor.Nom_usuario}" th:text="${proveedor.Nom_usuario}"></option>
        </select>
        <div>
            <table class="table table-striped table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>ID</th>
                        <th>Ususario</th>
                        <th>Nombre Producto</th>
                        <th>Descripcion</th>
                        <th><a th:href="@{/Gestion_Inventarios/Productos/0(pagina=0, orden='cantidad', direccion=${direccion == 'asc' ? 'desc' : 'asc'})}">Cantidad</a></th>
                        <th><a th:href="@{/Gestion_Inventarios/Productos/0(pagina=0, orden='preciounitario', direccion=${direccion == 'asc' ? 'desc' : 'asc'})}">Precio Unitario</a></th>
                        <th>Proveedor</th>
                    </tr>
                </thead>
                <tbody id="tablaProductos">
                    <tr  th:each="productos: ${Productoss}">
                        <td th:text="${productos.ID_Producto}"></td>
                        <td th:text="${productos.usuario.Nom_usuario}"></td>
                        <td th:text="${productos.Nombre}"></td>
                        <td th:text="${productos.Descripcion}"></td>
                        <td th:text="${productos.cantidad}"></td>
                        <td th:text="${productos.preciounitario}"></td>
                        <td th:text="${productos.proveedor.Nom_usuario}"></td>
                        <td><a th:href="@{/Gestion_Inventarios/Productos/BorrarProducto/} + ${productos.ID_Producto}"><button type="button">BORRAR</button></a></td>
                        <td><a th:href="@{/Gestion_Inventarios/Productos/EditarProducto/} + ${productos.ID_Producto}"><button type="button">EDITAR</button></a></td>
                    </tr>
                </tbody>
            </table>
        </div> 
        <a th:href="@{/Gestion_Inventarios/Usuario/}"><button type="button">VerUsuario</button></a>
        <a th:href="@{/Gestion_Inventarios/Productos/NuevoProducto/}"><button type="button">NuevoProducto</button></a>
        <a th:href="@{/Gestion_Inventarios/Tienda/0}"><button type="button">Tienda</button></a>
        <a th:href="@{/Gestion_Inventarios/Transaccion/Lista}"><button type="button">Historial Transacciones</button></a>
        <a th:href="@{/Gestion_Inventarios/Pedido/}"><button type="button">Pedidos</button></a>
        <a th:href="@{/Gestion_Inventarios/Pedido/ListaPedido}"><button type="button">Historial Pedidos</button></a>
    </div>
    <div th:object="${Productoss}">
        <a th:if="${Productoss.hasPrevious()}" th:href="@{/Gestion_Inventarios/Productos/} + ${Productoss.number - 1}">Anterior</a>
        <span>Page <span th:text="${Productoss.number + 1}"></span> of <span th:text="${Productoss.totalPages}"></span></span>
        <a th:if="${Productoss.hasNext()}" th:href="@{/Gestion_Inventarios/Productos/} + ${Productoss.number + 1}">Siguiente</a>
    </div>  
    </body>
    <script th:src="@{/js/app.js}"></script>
</html>