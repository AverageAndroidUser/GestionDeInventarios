<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="ISO-8859-1">
        <title>List Users</title>
        <link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.min.css" />
        <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
        <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    </head>
    <body>
    <div class="container text-center">
        <div>
            <form th:action="@{/logout}" method="post">
                <input type="submit" value="Sign Out" />
            </form>
        </div>
        <div>
            <h1>List of Users</h1>
        </div>
        <div>
            <form th:object="${Usuarioo}" th:action="@{/Gestion_Inventarios/Transaccion/Lista/0}" method="get">
                <label th:if="${Usuarioo.tipousuario == 2}">Filtrar por Usuario:</label>
                <select th:if="${Usuarioo.tipousuario == 2}" name="usuarioId">
                    <option th:each="usuario : ${Usuarioss}" th:value="${usuario.ID_Usuario}" th:text="${usuario.Nom_usuario}"></option>
                </select>
                <label>Filtrar por Proveedor:</label>
                <select name="proveedorId">
                    <option th:each="proveedor : ${Proveedoress}" th:value="${proveedor.ID_Usuario}" th:text="${proveedor.Nom_usuario}"></option>
                </select>
                <button type="submit">Filtrar</button>
            </form>
        </div>
        <div>
            <table class="table table-striped table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th>---------Ususario---------</th>
                        <th>---------Nombre Producto---------</th>
                        <th>---------Proveedor---------</th>
                        <th>---------Cantidad_total---------</th>
                        <th>---------Precio total---------</th>
                        <th>---------Fecha_entrega---------</th>
                        <th>---------Fecha_pedido---------</th>
                        <th>---------Tipo---------</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="transaccion: ${Transaccionn}">
                        <td><a th:text="${transaccion.usuario.Nombre}" th:href="@{/Gestion_Inventarios/Usuario/Proveedor/} + ${transaccion.usuario.ID_Usuario}"></a></td>
                        <td><a th:text="${transaccion.producto.Nombre}" th:href="@{/Gestion_Inventarios/Productos/VerProducto/} + ${transaccion.producto.ID_Producto}"></a></td>
                        <td><a th:text="${transaccion.producto.proveedor.Nom_usuario}" th:href="@{/Gestion_Inventarios/Usuario/Proveedor/} + ${transaccion.producto.proveedor.ID_Usuario}"></a></td>
                        <td th:text="${transaccion.Cantidad_total}"></td>
                        <td th:text="${transaccion.Precio_total}"></td>
                        <td th:text="${transaccion.Fecha_entrega}"></td>
                        <td th:text="${transaccion.Fecha_pedido}"></td>
                        <td>
                            <span th:if="${transaccion.Tipotransaccion == 1}" th:text="'ENTRADA'"></span>
                            <span th:if="${transaccion.Tipotransaccion == 0}" th:text="'SALIDA'"></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div> 
        <button type="button" onclick="regresar()">Atras</button>
    </div>
    <div th:object="${Transaccionn}">
        <a th:if="${Transaccionn.hasPrevious()}" th:href="@{/Gestion_Inventarios/Transaccion/Lista/} + ${Transaccionn.number - 1}">Anterior</a>
        <span>Page <span th:text="${Transaccionn.number + 1}"></span> of <span th:text="${Transaccionn.totalPages}"></span></span>
        <a th:if="${Transaccionn.hasNext()}" th:href="@{/Gestion_Inventarios/Transaccion/Lista/} + ${Transaccionn.number + 1}">Siguiente</a>
    </div>
    </body>
    <script th:src="@{/js/app.js}"></script>
</html>